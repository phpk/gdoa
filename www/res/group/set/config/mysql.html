<!DOCTYPE html>
<html>
    
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
        <title>
            mysql
        </title>
        <link rel="stylesheet" href="/admin/component/layui/css/layui.css" />
        <link rel="stylesheet" href="/admin/component/form/modules/formDesigner.css"
        />
        <link rel="stylesheet" href="/admin/component/form/modules/cron.css" />
        <link rel="stylesheet" href="/admin/component/form/modules/labelGeneration.css"
        />
        <link rel="stylesheet" href="/admin/component/form/modules/formPreview.css"
        />
    </head>
    
    <body>
        <div id="mysql-body" style="margin: 10px 20px;">
            <form class="layui-form layui-form-pane" style="height:100%;" id="mysql"
            lay-filter="mysql">
                <div class="mainBox">
                    <div class="main-container">
                        <div id="host" class="layui-form-item active" data-id="host" data-tag="input"
                        data-index="0">
                            <label class="layui-form-label layui-form-required" style="width: 125px;">
                                <span style="color:red;">
                                    *
                                </span>
                                数据库地址:
                            </label>
                            <div class="layui-input-block" style="margin-left: 125px">
                                <input name="host" value="" placeholder="请输入数据库地址" class="layui-input"
                                lay-vertype="tips" lay-verify="required" style="width:100%">
                            </div>
                        </div>
                        <div id="port" class="layui-form-item active" data-id="port" data-tag="input"
                        data-index="1">
                            <label class="layui-form-label layui-form-required" style="width: 125px;">
                                <span style="color:red;">
                                    *
                                </span>
                                端口号:
                            </label>
                            <div class="layui-input-block" style="margin-left: 125px">
                                <input name="port" value="3306" placeholder="请输入端口号" class="layui-input"
                                lay-vertype="tips" lay-verify="required|number" style="width:100%">
                            </div>
                        </div>
                        <div id="input_2" class="layui-form-item active" data-id="input_2" data-tag="input"
                        data-index="2">
                            <label class="layui-form-label layui-form-required" style="width: 110px;">
                                <span style="color:red;">
                                    *
                                </span>
                                单行文本:
                            </label>
                            <div class="layui-input-block" style="margin-left: 110px">
                                <input name="input_2" value="" placeholder="请输入" class="layui-input" lay-vertype="tips"
                                lay-verify="required" style="width:100%">
                            </div>
                        </div>
                        <div id="textarea_1" class="layui-form-item layui-form-text active" data-id="textarea_1"
                        data-tag="textarea" data-index="3">
                            <label class="layui-form-label layui-form-required" style="width: 100%;">
                                <span style="color:red;">
                                    *
                                </span>
                                多行文本:
                            </label>
                            <div class="layui-input-block" style="width: 100%">
                                <textarea name="textarea_1" placeholder="请输入" width="100%" class="layui-textarea"
                                lay-verify="required">
                                </textarea>
                            </div>
                        </div>
                        <div class="layui-form-item">
                            <div class="layui-input-block">
                                <button type="submit" class="layui-btn" lay-submit="" lay-filter="mysql-save">
                                    提交
                                </button>
                                <button type="reset" class="layui-btn layui-btn-primary">
                                    重置
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </form>
        </div>
        <script type="text/javascript" src="/admin/config/config.js">
        </script>
        <script type="text/javascript" src="/admin/component/layui/layui.js">
        </script>
        <script type="text/javascript" src="/admin/component/form/modules/Sortable/Sortable.js">
        </script>
        <script type="text/javascript" src="/admin/component/form/modules/numberInput.js">
        </script>
        <script type="text/javascript" src="/admin/component/form/modules/iconPicker.js">
        </script>
        <script type="text/javascript" src="/admin/component/form/modules/cron.js">
        </script>
        <script type="text/javascript" src="/admin/component/form/modules/iceEditor/iceEditor.js">
        </script>
        <script type="text/javascript" src="/admin/component/form/modules/labelGeneration.js">
        </script>
        <script type="text/javascript" src="/admin/component/form/js/config.js?v=100">
        </script>
        <script>
            layui.use(["layer", "laytpl", "element", "form", "slider", "laydate", "rate", "colorpicker", "layedit", "carousel", "upload", "formField", "numberInput", "iconPicker", "cron", "labelGeneration"],
            function() {
                var $ = layui.jquery,
                layer = layui.layer,
                laytpl = layui.laytpl,
                setter = layui.cache,
                element = layui.element,
                slider = layui.slider,
                laydate = layui.laydate,
                rate = layui.rate,
                colorpicker = layui.colorpicker,
                carousel = layui.carousel,
                form = layui.form,
                upload = layui.upload,
                layedit = layui.layedit,
                formField = layui.formField,
                hint = layui.hint,
                numberInput = layui.numberInput,
                iconPicker = layui.iconPicker,
                cron = layui.cron,
                req = _req(),
                labelGeneration = layui.labelGeneration;
                _get(layui, "set/setBefore?conftype=" + req.conftype,
                function(res) {
                    form.val("mysql", res);
                });
                form.on("submit(mysql-save)",
                function(data) {
                    data.field["conftype"] = "mysql";
                    _post(layui, "set/setConf", data.field,
                    function(res) {
                        parent.location.reload();
                        parent.layer.close(parent.layer.getFrameIndex(window.name));
                    });
                    return false;
                });
            });
        </script>
    </body>

</html>