tinymce.PluginManager.add('openFile', function (editor, url) {
  let pluginName = '打开';

  let openData = function () {
    
  };
  let svgStr = `<svg t="1640280779711" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="3202" width="20" height="20"><path d="M275.84 160H124.192l1.824 580.096a32 32 0 0 1-64 0L60.16 160a64 64 0 0 1 64-64h177.92l97.28 96h498.272a32 32 0 1 1 0 64H373.152l-97.28-96z" p-id="3203"></path><path d="M127.52 735.616a32 32 0 0 1-63.04-10.944l54.624-314.144C127.904 359.936 174.784 320 225.76 320h668.864c55.36 0 93.92 46.72 84.384 101.472l-72.32 416C897.824 888.064 850.976 928 800 928H160a32 32 0 0 1 0-64h640c19.712 0 40.096-17.376 43.616-37.472l72.32-416c2.784-15.904-5.984-26.528-21.312-26.528H225.76c-19.68 0-40.096 17.376-43.584 37.472l-54.656 314.144z" p-id="3204"></path></svg>`;
  
  editor.ui.registry.getAll().icons.openFile || editor.ui.registry.addIcon('openFile', svgStr);

  // editor.ui.registry.addButton('openFile', {
  //   icon: 'openFile',
  //   tooltip: pluginName,
  //   onAction: function () {
  //     openData();
  //   }
  // });
  editor.ui.registry.addNestedMenuItem('openFile', {
    icon: 'openFile',
    text: '打开',
    getSubmenuItems: function () {
      return [
        {
          text:'Word文件',
          type: 'menuitem',
          onAction:function(){
              console.log('Word文件');
          }
        },
        {
          text:'PDF文件',
          type: 'menuitem',
          onAction:function(){
            console.log('PDF文件');
          }
        },
        {
          text:'MarkDown文件',
          type: 'menuitem',
          onAction:function(){
            console.log('md文件');
          }
        },
        {
          text:'text文件',
          type: 'menuitem',
          onAction:function(){
            console.log('text文件');
          }
        },
        {
          text:'RTF文件',
          type: 'menuitem',
          onAction:function(){
            console.log('RTF文件');
          }
        },
        {
          text:'html文件',
          type: 'menuitem',
          onAction:function(){
            console.log('html文件');
          }
        },
      ]
    }
  });
  return {
    getMetadata: function () {
      return {
        name: pluginName,
        url: "https://godo.im",
      };
    }
  };
});
